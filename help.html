<!DOCTYPE html>
<html lang="en" data-mode="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gemna Chat - Help & Information</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* Copied directly from index.html to ensure a perfect theme match */
        :root {
            --bg-color: #ffffff; --text-color: #1f2937; --header-bg: #f9fafb; --header-text: #1f2937;
            --border-color: #e5e7eb; --font-family: 'Inter', sans-serif;
            --scrollbar-thumb-color: #d1d5db; --link-color: #3b82f6; --code-bg: #f3f4f6;
        }
        html[data-mode="dark"] {
            --bg-color: #111827; --text-color: #e5e7eb; --header-bg: #1f2937; --header-text: #e5e7eb;
            --border-color: #374151; --scrollbar-thumb-color: #4b5563; --link-color: #60a5fa; --code-bg: #1f2937;
        }
        body { font-family: var(--font-family); background-color: var(--bg-color); color: var(--text-color); transition: background-color 0.3s, color 0.3s; }
        .bg-theme { background-color: var(--bg-color); }
        .text-theme { color: var(--text-color); }
        .bg-header { background-color: var(--header-bg); }
        .text-header { color: var(--header-text); }
        .border-theme { border-color: var(--border-color); }
        .link-theme { color: var(--link-color); }

        /* Custom styles for help page content */
        .help-content h2 { font-size: 1.5rem; font-weight: 700; margin-top: 2rem; margin-bottom: 1rem; padding-bottom: 0.5rem; border-bottom: 1px solid var(--border-color); color: var(--header-text); }
        .help-content h3 { font-size: 1.25rem; font-weight: 600; margin-top: 1.5rem; margin-bottom: 0.75rem; color: var(--header-text); }
        .help-content p { line-height: 1.6; margin-bottom: 1rem; }
        .help-content ul, .help-content ol { margin-left: 1.5rem; margin-bottom: 1rem; list-style-position: outside; }
        .help-content li { margin-bottom: 0.5rem; }
        .help-content a { color: var(--link-color); text-decoration: underline; }
        .help-content a:hover { text-decoration: none; }
        .help-content code { background-color: var(--code-bg); padding: 0.2rem 0.4rem; border-radius: 0.25rem; font-family: monospace; font-size: 0.9em; }
        .help-content strong { font-weight: 600; color: var(--header-text); }
        .help-content .note { background-color: var(--code-bg); border-left: 4px solid var(--link-color); padding: 1rem; margin-bottom: 1rem; border-radius: 0.25rem; }
        .help-content .warning { background-color: #fffbeb; border-left: 4px solid #f59e0b; padding: 1rem; margin-bottom: 1rem; border-radius: 0.25rem; color: #b45309; }
        html[data-mode="dark"] .help-content .warning { background-color: #2a210c; border-left-color: #fcd34d; color: #fef3c7; }

        /* Custom scrollbar */
        body::-webkit-scrollbar { width: 8px; }
        body::-webkit-scrollbar-track { background: transparent; }
        body::-webkit-scrollbar-thumb { background-color: var(--scrollbar-thumb-color); border-radius: 10px; }
    </style>
</head>
<body class="bg-theme text-theme">

    <header class="bg-header border-b border-theme p-4 sticky top-0 z-10">
        <div class="container mx-auto flex justify-between items-center">
            <h1 class="text-2xl font-bold text-header">Gemna Chat Help</h1>
            <a href="index.html" class="link-theme font-semibold hover:underline">← Back to App</a>
        </div>
    </header>

    <main class="container mx-auto p-4 md:p-8 max-w-4xl">
        <div class="help-content">
            <p class="text-lg">Welcome to Gemna Chat! This guide will help you understand all the features and get the most out of your experience.</p>
            
            <nav class="p-4 border border-theme rounded-lg bg-header my-8">
                <h3 class="!mt-0">Table of Contents</h3>
                <ol class="!mb-0">
                    <li><a href="#getting-started">Getting Started</a></li>
                    <li><a href="#managing-chats">Managing Chats</a></li>
                    <li><a href="#creating-characters">Creating & Editing Characters</a></li>
                    <li><a href="#settings">Understanding the Settings Panel</a></li>
                    <li><a href="#best-practices">Best Practices for Great Responses</a></li>
                    <li><a href="#terms">Terms and Conditions</a></li>
                    <li><a href="#privacy">Privacy Policy</a></li>
                </ol>
            </nav>

            <section id="getting-started">
                <h2>Getting Started</h2>
                <p>Gemna Chat is a powerful, customizable interface for interacting with various AI models. It puts you in control of the AI's personality, your own identity, and the API services you use.</p>
                
                <h3>The Basics</h3>
                <ul>
                    <li><strong>Select a Chat:</strong> The left sidebar lists all your chats. Click one to start a conversation.</li>
                    <li><strong>Send a Message:</strong> Type your message in the input box at the bottom and press Enter or the send button.</li>
                    <li><strong>Send an Image:</strong> Click the attachment icon to upload an image along with your message (only available for Gemini models).</li>
                </ul>
            </section>
            
            <section id="managing-chats">
                <h2>Managing Chats</h2>
                <p>The sidebar is your command center for all conversations.</p>
                <ul>
                    <li><strong>Add a Character:</strong> Click the "Add Character" icon (single person) to create a new one-on-one AI chat.</li>
                    <li><strong>Add a Group:</strong> Click the "Add Group" icon (multiple people) to create a group chat with several AI characters you've already made.</li>
                    <li><strong>Edit a Chat:</strong> Hover over a chat in the sidebar and click the pencil icon to edit its details.</li>
                </ul>
            </section>
            
            <section id="creating-characters">
                <h2>Creating & Editing Characters</h2>
                <p>The character modal is where the magic happens. A well-defined character results in a much more immersive and consistent chat experience.</p>
                
                <h3>Core Fields</h3>
                <ul>
                    <li><strong>Avatar:</strong> Give your AI a face. You can upload an image from your device or paste a direct image URL.</li>
                    <li><strong>AI Name:</strong> The name the character will use.</li>
                    <li><strong>Character Type:</strong> This sets the interaction style.
                        <ul>
                           <li><strong>Messaging:</strong> Simulates a real person texting you.</li>
                           <li><strong>Roleplay:</strong> For narrative, story-driven interactions. The AI acts as a narrator and voices the character.</li>
                           <li><strong>Assistant:</strong> For a more traditional, task-oriented AI assistant.</li>
                        </ul>
                    </li>
                    <li><strong>AI Persona:</strong> <strong>This is the most important field.</strong> Describe the character's personality, background, job, quirks, and most importantly, their speaking or texting style. Be as detailed as possible!</li>
                    <li><strong>Your Persona (Optional):</strong> Define who YOU are in the chat. This helps the AI react to you more realistically. For example, if the AI is a "grumpy spaceship captain," your persona could be "the optimistic new recruit."</li>
                </ul>

                <h3>AI-Powered Helpers</h3>
                <ul>
                    <li><strong>Enhance Persona (Sparkles Icon):</strong> If you only have a basic idea, provide a name or a few keywords and click this button. The AI will generate a detailed persona for you.</li>
                    <li><strong>Analyze Image (Scan Face Icon):</strong> After uploading an avatar, click this to have the AI describe the person and create a basic persona based on their appearance.</li>
                     <li><strong>Generate Image Prompt (Wand Icon):</strong> The AI will analyze the persona and create a detailed text prompt suitable for generating consistent images of the character with AI image models. This is automatically appended to the persona.</li>
                </ul>
            </section>
            
             <section id="settings">
                <h2>Understanding the Settings Panel</h2>
                <p>Click the gear icon in the chat header to access settings.</p>

                <h3>Account</h3>
                <p>By default, all your data is stored only on your current device. Signing in allows you to sync your chats, characters, and settings across multiple devices.</p>
                <ul>
                    <li><strong>Google Sign-In:</strong> A quick way to create an account and sync data.</li>
                    <li><strong>Email & Password:</strong> Create a traditional account.</li>
                </ul>
                <div class="note">
                    <strong>Important:</strong> When you sign in for the first time, your current local data is uploaded to the cloud to become your new master save.
                </div>

                <h3>Appearance</h3>
                <p>Customize the look and feel of the app to your liking. Change the theme to mimic popular messaging apps, toggle dark mode, and show or hide chat avatars and timestamps.</p>

                <h3>Your Character</h3>
                <p>Set your global user name and avatar. This is how the AI will see you in all chats unless you specify a different "Your Persona" inside a specific character's settings.</p>

                <h3>API & Model</h3>
                <p>This is a "Bring Your Own Key" (BYOK) application. You must provide your own API key from a supported AI provider to send messages.</p>
                <ul>
                    <li><strong>API Provider:</strong> Choose between Google Gemini, Groq, or OpenRouter.</li>
                    <li><strong>API Key:</strong> Paste your key here. Your key is stored locally on your device or securely in your cloud settings if you are signed in. We never see or store your key on our servers.</li>
                    <li><strong>Where to get keys:</strong>
                        <ul>
                            <li><a href="https://aistudio.google.com/app/apikey" target="_blank" rel="noopener noreferrer">Google AI Studio (for Gemini)</a></li>
                            <li><a href="https://console.groq.com/keys" target="_blank" rel="noopener noreferrer">GroqCloud (for Llama, etc.)</a></li>
                            <li><a href="https://openrouter.ai/keys" target="_blank" rel="noopener noreferrer">OpenRouter (for a wide variety of models)</a></li>
                        </ul>
                    </li>
                    <li><strong>Model Selection:</strong> Choose the specific AI model you want to use. Performance, intelligence, and cost will vary.</li>
                </ul>
                
                <h3>Data Management</h3>
                <ul>
                    <li><strong>Import Character Data:</strong> Load a character and their chat history from a <code>.json</code> file you previously downloaded.</li>
                    <li><strong>Download Character Data:</strong> (Button in chat header) Save the current character and your full conversation to a <code>.json</code> file on your device.</li>
                    <li><strong>Restore from Cloud:</strong> If your local chat history seems out of sync, this button will force-download the latest version from the cloud (requires sign-in).</li>
                </ul>
                
                <h3>Danger Zone</h3>
                <div class="warning">
                    <strong>Use with extreme caution.</strong> Actions in this section are permanent and cannot be undone.
                </div>
                <ul>
                    <li><strong>Allow Potentially NSFW Content:</strong> Toggles the safety filter. By enabling this, you confirm you are of legal age to view such content. The effectiveness of this depends on the API provider's own policies.</li>
                    <li><strong>Reset & Erase All Data:</strong> This will delete EVERYTHING—all chats, settings, and history from your device AND from your cloud account if you are signed in.</li>
                </ul>
            </section>
            
            <section id="best-practices">
                <h2>Best Practices for Great Responses</h2>
                <ul>
                    <li><strong>Detailed Personas are Key:</strong> The AI's consistency is directly tied to how well you define its persona. Don't just say "a nice friend." Say "A 28-year-old librarian named Eleanor who is kind and patient, but very formal. She texts using perfect grammar, full sentences, and never uses slang or emojis."</li>
                    <li><strong>Use the Guidance Button:</strong> For a one-time instruction, use the sparkles icon next to the message input. For example, after the AI gives a complex answer, you can use the guidance "Explain that again, but like I'm five years old."</li>
                    <li><strong>Mention in Group Chats:</strong> To direct a message to a specific AI in a group chat, use <code>@Name</code>. For example, <code>@Ava what do you think?</code> will ensure only Ava responds.</li>
                    <li><strong>Refresh the Roleplay:</strong> If a roleplay gets stuck or goes off track, you can edit the AI's last message to put it back on course, or send a message like `(OOC: Let's reset the scene to the tavern)` to guide it.</li>
                </ul>
            </section>

            <section id="terms">
                <h2>Terms and Conditions</h2>
                <p>Last updated: [Current Date]</p>
                <p>By using the Gemna Chat application ("Service"), you agree to be bound by these Terms and Conditions. If you disagree with any part of the terms, you may not access the Service.</p>
                
                <h3>1. Use of Service</h3>
                <p>The Service is provided to you "AS IS" and "AS AVAILABLE". You are responsible for your use of the Service, for any content you post to the Service, and for any consequences thereof.</p>
                
                <h3>2. API Keys and Usage</h3>
                <p>The Service requires you to provide your own API keys from third-party providers (e.g., Google, Groq, OpenRouter). You are solely responsible for all costs, fees, and usage associated with your API keys. You are also responsible for complying with the terms of service of your chosen API provider.</p>

                <h3>3. User-Generated Content</h3>
                <p>You are solely responsible for the content you create and the conversations you have using the Service. We do not endorse, support, represent or guarantee the completeness, truthfulness, accuracy, or reliability of any content generated by the AI. We will not be liable for any content, including, but not limited to, any errors or omissions in any content, or any loss or damage of any kind incurred as a result of the use of any content generated.</p>

                <h3>4. Disclaimer of Warranties</h3>
                <p>The Service is provided without warranties of any kind, whether express or implied, including, but not limited to, implied warranties of merchantability, fitness for a particular purpose, non-infringement, or course of performance.</p>

                <h3>5. Limitation of Liability</h3>
                <p>In no event shall the creators or providers of Gemna Chat be liable for any indirect, incidental, special, consequential or punitive damages, including without limitation, loss of profits, data, use, goodwill, or other intangible losses, resulting from (i) your access to or use of or inability to access or use the Service; (ii) any conduct or content of any third party on the Service; (iii) any content obtained from the Service; and (iv) unauthorized access, use or alteration of your transmissions or content, whether based on warranty, contract, tort (including negligence) or any other legal theory, whether or not we have been informed of the possibility of such damage.</p>
            </section>
            
            <section id="privacy">
                <h2>Privacy Policy</h2>
                <p>Last updated: [Current Date]</p>
                <p>Your privacy is critically important to us. Gemna Chat is designed with a "privacy-first" approach. Our policy is to collect the absolute minimum amount of information necessary to provide the Service.</p>

                <h3>1. Data Storage and You</h3>
                <p>You have two primary modes of data storage:</p>
                <ul>
                    <li><strong>Local-Only (Not Signed In):</strong> When you are not signed in, <strong>all of your data</strong>—including character definitions, chat history, and API keys—is stored exclusively in your web browser's local storage on your device. We do not have access to it. If you clear your browser data, it will be permanently lost.</li>
                    <li><strong>Cloud Sync (Signed In):</strong> When you sign in (via Google or Email/Password), your data is synced to Google's Firebase platform to enable access across devices.</li>
                </ul>

                <h3>2. Encryption</h3>
                <p>When your data is stored in the cloud (Firebase), your chat messages and character personas are <strong>end-to-end encrypted</strong> using a key that is generated and stored on your device or in a secure part of your Firebase account. <strong>We, the providers of Gemna Chat, do not have access to your private encryption key and cannot read your unencrypted chat history or persona data.</strong></p>

                <h3>3. Third-Party Services</h3>
                <p>The Service relies on third-party providers to function. Your use of these services is subject to their respective privacy policies.</p>
                <ul>
                    <li><strong>Google Firebase:</strong> Used for authentication and cloud data storage if you sign in.</li>
                    <li><strong>Google AI, Groq, OpenRouter:</strong> Your chat messages are sent to these providers to generate AI responses. We are not responsible for how they handle your data. Please review their privacy policies before use.</li>
                </ul>

                <h3>4. Disclaimer of Responsibility</h3>
                <p><strong>We explicitly deny all responsibility for your data.</strong> Since your data is stored either locally on your device or on third-party cloud services (Firebase) using an encryption key we cannot access, we cannot guarantee its security, integrity, or availability. You are solely responsible for the security and backup of your data.</p>
                <p>We are not liable for:</p>
                <ul>
                    <li>Any data loss, corruption, or deletion, whether from local storage or the cloud.</li>
                    <li>Any security breaches that occur on third-party services like Google Firebase or your chosen API provider.</li>
                    <li>The content generated by the AI, which may be offensive, inaccurate, or harmful.</li>
                </ul>
                <p>By using this Service, you acknowledge and agree that you are using it at your own risk.</p>
            </section>
        </div>
    </main>
    
    <footer class="text-center p-4 mt-8 text-sm opacity-60">
        <p>&copy; Gemna Chat</p>
    </footer>

    <script>
        // Simple script to sync the theme with the main app's settings
        document.addEventListener('DOMContentLoaded', () => {
            try {
                const SETTINGS_KEY = 'gemna-chat-settings-v32';
                const savedSettings = localStorage.getItem(SETTINGS_KEY);
                if (savedSettings) {
                    const settings = JSON.parse(savedSettings);
                    if (settings.darkMode === true) {
                        document.documentElement.dataset.mode = 'dark';
                    } else {
                        document.documentElement.dataset.mode = 'light';
                    }
                }
            } catch (e) {
                console.error("Could not load theme settings.", e);
            }
        });
    </script>
</body>
</html>